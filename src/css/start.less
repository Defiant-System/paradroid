
content {
	&.fade-out[data-show] {
		// before animation
		.start-view.no-anim {
			.logo {
				opacity: 0;
				transform: scale(.95);
			}

			.menu {
				.option {
					opacity: 0;
				}
			}
		}

		&[data-show="start"].fade-in {
			.start-view {
				.logo {
					opacity: 1;
					transform: scale(1);
					transition: all 300ms ease-in-out;
				}

				.menu {
					.option {
						opacity: 1;
						transition: all 300ms ease-in-out;
					}
				}
			}
		}
	}
	
	&[data-show="start"].leave {
		min-height: 2px;
		transition: min-height 300ms ease-in-out;
		transition-delay: 700ms;
		
		.start-view {
			opacity: 0;
			transition: opacity 300ms ease-in-out;
			transition-delay: 400ms;

			.logo {
				opacity: 0;
				transform: scale(.95);
				transition: all 300ms ease-in-out;
			}

			.menu {
				.option {
					opacity: 0;
					transform: translateY(50px) translateZ(100px);
					transition: all 350ms ease-in-out;

					&:nth-child(1) {
						transition-delay: 400ms;
					}

					&:nth-child(2) {
						transition-delay: 300ms;
					}

					&:nth-child(3) {
						transition-delay: 200ms;
					}

					&:nth-child(4) {
						transition-delay: 100ms;
					}
				}
			}
		}
	}
}


.start-view {
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;

	&.no-anim {
		.logo {
			b[class^="logo-"] {
				opacity: 1;
				transform: translateY(0px) scale(1, 1);
			}

			> div {
				opacity: 1;
				transform: translateY(0px);
			}

			.paradroid-3001 {
				opacity: 1;
			}
		}

		.menu {
			.option {
				opacity: 1;
				transform: translateY(0px) translateZ(0px);
			}
		}
	}

	&.view-anim {
		.logo {
			b[class^="logo-"] {
				animation: logo-drop 300ms cubic-bezier(0.175, 0.885, 0.32, 1.75) forwards;
			}

			> div {
				animation: box-pop 300ms ease-out forwards;
			}

			.paradroid-3001 {
				opacity: 1;
				transition: opacity 80ms 3300ms;
			}
		}

		.menu {
			.option {
				opacity: 1;
				transform: translateY(0px) translateZ(0px);
				transition: all 350ms 3800ms;

				&:nth-child(1) {
					transition-delay: 4000ms;
				}

				&:nth-child(2) {
					transition-delay: 4100ms;
				}

				&:nth-child(3) {
					transition-delay: 4200ms;
				}

				&:nth-child(4) {
					transition-delay: 4300ms;
				}
			}
		}
	}

	.logo {
		position: relative;
		margin: 47px auto 19px;
		width: 480px;
		height: 300px;
		filter: drop-shadow(0 3px 5px rgba(#000,.2));
		
		> div {
			position: absolute;
			border-radius: 6px;
			opacity: 0;

			&:before {
				content: "";
				background: #c7c7c7 radial-gradient(ellipse at bottom center, rgba(#fff,.25), transparent);
				position: absolute;
				top: 0;
				left: 0;
				width: inherit;
				height: inherit;
				border-radius: inherit;
				filter: drop-shadow(0 1px 0 hsl(174, 0%, 71%))
						drop-shadow(0 2px 0 hsl(174, 0%, 69%))
						drop-shadow(0 3px 0 hsl(174, 0%, 67%))
						drop-shadow(0 4px 0 hsl(174, 0%, 65%))
						drop-shadow(0 1px 0 rgba(#222, .2));
			}

			&:after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				height: 1px;
				z-index: 2;
				background: linear-gradient(90deg, transparent, rgba(#fff,.75), transparent);
			}

			&.boxes-top-left {
				z-index: 1;
				top: 0px;
				left: 0px;
				width: 93px;
				height: 145px;
				animation-delay: 1000ms;
			}

			&.boxes-top-right {
				z-index: 1;
				top: 0px;
				left: 206px;
				width: 273px;
				height: 145px;
				animation-delay: 1500ms;
			}

			&.boxes-bottom-left {
				z-index: 3;
				top: 231px;
				left: 0px;
				width: 93px;
				height: 68px;
				animation-delay: 2000ms;
			}

			&.boxes-bottom-right {
				z-index: 3;
				top: 231px;
				left: 206px;
				width: 273px;
				height: 68px;
				animation-delay: 2500ms;
			}
		}

		b[class^="logo-"] {
			position: absolute;
			width: 94px;
			height: 68px;
			z-index: 2;
			background-size: 0 0;
			opacity: 0;

			&:before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				width: inherit;
				height: inherit;
				background-position: 0 0;
				background-size: contain;
				background-repeat: no-repeat;
				background-image: inherit;
				filter: drop-shadow(0 1px 0 hsl(174, 0%, 89%))
						drop-shadow(0 2px 0 hsl(174, 0%, 88%))
						drop-shadow(0 3px 0 hsl(174, 0%, 86%))
						drop-shadow(0 4px 0 hsl(174, 0%, 83%))
						drop-shadow(0 4px 0 hsl(174, 0%, 80%))
						drop-shadow(0 1px 0 rgba(#111, .15));
			}

			&:after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				height: 1px;
				background: linear-gradient(90deg, transparent, #fff, transparent);
			}

			s {
				display: none;
				position: absolute;
				bottom: 0;
				left: 0;
				right: 0;
				height: 1px;
				background: linear-gradient(90deg, transparent 3%, #fff, transparent 97%);

				&:before,
				&:after {
					content: "";
					position: absolute;
					top: 0;
					left: 0;
					right: 0;
					height: 1px;
					background: inherit;
				}
			}
			
			&.logo-c1-p {
				background-image: url(~/icons/logo-p.png);
				top: -4px;
				left: 103px;
				animation-delay: 0ms;

				&:after { right: 51px; }

				s { display: block; top: 55px; left: 42px; }
				s:before { top: -39px; left: 2px; right: 17px; }
				s:after { display:none; }
			}

			&.logo-c2-a {
				background-image: url(~/icons/logo-a.png);
				top: 73px;
				left: 103px;
				animation-delay: 100ms;

				&:after { right: 51px; }

				s { display: block; top: 54px; left: 42px; right: 17px; }
				s:before { top: -39px; left: 2px; right: 0; }
				s:after { top: 12px; left: 36px; right: -17px; }
			}

			&.logo-c3-r {
				background-image: url(~/icons/logo-r.png);
				top: 150px;
				left: 103px;
				animation-delay: 200ms;

				&:after { right: 51px; }

				s { display: block; top: 55px; left: 42px; right: 17px; }
				s:before { top: -39px; right: 13px; }
				s:after { top: 11px; left: 36px; right: -17px; }
			}

			&.logo-c4-a {
				background-image: url(~/icons/logo-a.png);
				top: 227px;
				left: 103px;
				animation-delay: 300ms;

				&:after { right: 51px; }

				s { display: block; top: 54px; left: 42px; right: 17px; }
				s:before { top: -39px; left: 2px; right: 0; }
				s:after { top: 12px; left: 36px; right: -17px; }
			}

			&.logo-c5-d {
				background-image: url(~/icons/logo-d.png);
				top: 150px;
				left: 0;
				animation-delay: 400ms;

				s { display: block; top: 29px; left: 44px; right: 17px; }
				s:before { display: none; }
				s:after { display: none; }
			}

			&.logo-c6-o {
				background-image: url(~/icons/logo-o.png);
				top: 150px;
				left: 205px;
				animation-delay: 500ms;

				s { display: block; top: 15px; left: 44px; right: 17px; }
				s:before { display: none; }
				s:after { display: none; }
			}

			&.logo-c7-i {
				background-image: url(~/icons/logo-i.png);
				top: 150px;
				left: 308px;
				width: 68px;
				animation-delay: 600ms;

				s { display: block; top: 15px; left: 0; right: 55px; }
				s:before { left: 55px; right: -55px; }
				s:after { display: none; }
			}

			&.logo-c8-d {
				background-image: url(~/icons/logo-d.png);
				top: 150px;
				left: 385px;
				animation-delay: 700ms;

				s { display: block; top: 28px; left: 45px; right: 17px; }
				s:before { display: none; }
				s:after { display: none; }
			}
		}

		.paradroid-3001 {
			background: url(~/icons/paradroid-3001.png) 50% 50%/contain no-repeat;
			position: absolute;
			top: 263px;
			left: 356px;
			width: 111px;
			height: 28px;
			z-index: 5;
			opacity: 0;
		}
	}
}

.menu {
	position: relative;
	top: 31px;
	width: 500px;
	margin: 0 auto;
	text-align: center;
	perspective: 500px;

	.option {
		position: relative;
		height: 43px;
		margin: 0 33px 0 -3px;
		display: inline-block;
		opacity: 0;
		transform: translateY(50px) translateZ(100px);
		pointer-events: none;

		.bar {
			width: 119px;

			.box .back:before {
				box-shadow: -3px -5px 7px var(--c1);
			}

			&[data-click="toggle-music"],
			&[data-click="toggle-sound-fx"] {
				width: 129px;
			}
			
			&[data-click="show-briefing"] {
				.box-title {
					text-align: center;
				}
			}

			&.off {
				.box {
					--val: 72%;
				}

				.box-title {
					&:after {
						opacity: 1;
						transition-delay: 150ms;
					}
				}
			}
		}

		&:hover {
			.bar .box .back:before {
				box-shadow: -3px -10px 15px var(--c1);
			}
		}

		&:active {
			.bar {
				.box .back:before {
					box-shadow: -3px -5px 10px var(--c1);
				}
			}
		}

		&:nth-child(1) {
			.bar {
				.box {
					--c1: #f7ff61;
					// --val: 0%;
					transform: rotateX(79deg) rotateZ(-3deg);
				}

				.box-title {
					top: 23px;
					transform: rotateZ(-1deg);

					&:after {
						top: 3px;
					}
				}
			}
		}

		&:nth-child(2) {
			.bar {
				.box {
					--c1: #62ffdb;
					transform: rotateX(79deg) rotateZ(3deg);
				}

				.box-title {
					transform: rotateZ(1deg);
					padding-left: 0;
				}
			}
		}

		&:nth-child(3) {
			.bar {
				.box {
					--c1: #61ff66;
					transform: rotateX(79deg) rotateZ(6deg);
				}

				.box-title {
					transform: rotateZ(1deg);

					&:after {
						top: 1px;
					}
				}
			}
		}

		&:nth-child(4) {
			.bar {
				top: -29px;
				width: 129px;

				.box {
					--c1: #ff73ea;
					transform: rotateX(79deg) rotateZ(1deg) translateY(60px);
				}

				.box-title {
					transform: rotateZ(0deg);
					text-align: center;
					padding: 15px 0 0;
					text-transform: uppercase;
					letter-spacing: -.5px;
					font-size: 19px;
				}
			}
		}

		.box-title {
			position: absolute;
			top: 25px;
			left: 0px;
			right: 0;
			text-align: left;
			padding: 3px 0 0 5px;
			color: rgba(#222,.3);
			mix-blend-mode: luminosity;
			font-family: Paradrew;
			font-size: 20px;
			text-shadow: 0 1px 0 rgba(#fff,.35);
			cursor: pointer;
			pointer-events: all;

			&:after {
				content: "off";
				opacity: 0;
				position: absolute;
				top: 1px;
				right: 3px;
				transition: opacity 120ms ease-in-out;
			}
		}
	}
}

@keyframes logo-drop {
	0%   { opacity: .5; transform: translateY(-10px) scale(1, 1.25); }
	90%  { opacity: 1; transform: translateY(1px) scale(1, 1); }
	100% { opacity: 1; transform: translateY(0px) scale(1, 1); }
}

@keyframes box-pop {
	0%   { opacity: 0; transform: translateY(5px); }
	90%  { opacity: 1; transform: translateY(-3px); }
	100% { opacity: 1; transform: translateY(0px); }
}
